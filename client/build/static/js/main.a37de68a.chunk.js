(this["webpackJsonpbill-split"]=this["webpackJsonpbill-split"]||[]).push([[0],{163:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(20),c=a.n(n),l=a(4),r=a(11),i=a(23),o=a(49),j=a(19),d=a(12),u=a(14),b=a(10),h=a(65),m=a(109),O=a(1);var x=function(){return Object(O.jsx)("div",{className:"parentDisable",children:Object(O.jsx)("div",{className:"overlay-box",children:Object(O.jsx)(m.a,{animation:"border",role:"status",children:Object(O.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})},p=(a(61),a(50));p.defaults.withCredentials=!0;var f=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),m=Object(l.a)(c,2),f=m[0],g=m[1],v=Object(s.useState)(!1),y=Object(l.a)(v,2),N=y[0],w=y[1],S=Object(r.f)();return Object(O.jsxs)(h.a,{fluid:!0,children:[Object(O.jsx)(u.a,{className:"content",children:Object(O.jsx)(b.a,{md:4,sm:8,xs:10,children:Object(O.jsx)(o.a,{className:"logincard",children:Object(O.jsxs)(o.a.Body,{children:[Object(O.jsx)(o.a.Title,{className:"cardTitle",children:"Login to your Account"}),Object(O.jsxs)("form",{onSubmit:function(e){console.log("hey"),e.preventDefault(),w(!0),p.post("http://localhost:5000/login",{userCode:a}).then((function(e){"ok"===e.data.status?(w(!1),S("/billsplit")):"not registered"===e.data.status&&(w(!1),g("User not found"))})).catch((function(e){console.log(e),S("/error")}))},className:"form-position",children:[Object(O.jsx)(d.a.Group,{as:u.a,className:"mb-3 content",controlId:"exampleForm.ControlInput1",children:Object(O.jsx)(b.a,{md:8,sm:8,xs:10,children:Object(O.jsx)(d.a.Control,{type:"text",required:!0,value:a,onChange:function(e){n(e.target.value)},placeholder:"Secret Code"})})}),0!==f.length?Object(O.jsx)("p",{className:"msg",children:f}):null,Object(O.jsx)(j.a,{type:"submit",children:"Go!!"}),Object(O.jsx)("div",{className:"loginBox",children:Object(O.jsxs)("h6",{children:["Not a user?",Object(O.jsx)(i.b,{className:"register-link",to:"/",children:" Register here"})]})})]})]})})})}),N?Object(O.jsx)(x,{}):null]})},g=a(169);var v=function(e){return Object(O.jsxs)(g.a,{show:e.modalState,onHide:e.hide,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(O.jsx)(g.a.Header,{children:Object(O.jsx)(g.a.Title,{id:"contained-modal-title-vcenter",children:"Heya! Congrats on Successful Registration"})}),Object(O.jsx)(g.a.Body,{children:Object(O.jsxs)("p",{children:["Your secret code to access your account in future is ",Object(O.jsxs)("b",{children:[e.regCode,". "]}),"We have already sent the same code to your mentioned Email. See you inside."]})}),Object(O.jsx)(g.a.Footer,{children:Object(O.jsx)(j.a,{onClick:e.hide,children:"Bye"})})]})},y=a(21),N=a(18),w=a(50);w.defaults.withCredentials=!0;var S=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),o=Object(l.a)(c,2),m=o[0],p=o[1],f=Object(s.useState)({modalState:!1,regCode:""}),g=Object(l.a)(f,2),S=g[0],C=g[1],k=Object(s.useState)(!1),q=Object(l.a)(k,2),I=q[0],A=q[1],D=Object(r.f)();return Object(O.jsxs)(h.a,{fluid:!0,children:[Object(O.jsxs)("div",{className:"intro",children:[Object(O.jsx)("div",{children:Object(O.jsx)("h1",{className:"details1",children:"Its never been easier"})}),Object(O.jsx)("div",{children:Object(O.jsx)("h2",{className:"details2",children:"Get away from complex signing up or remembering password"})}),Object(O.jsx)("div",{children:Object(O.jsx)("h3",{className:"details3",children:"Just put down your mail and you are all set to use the website"})})]}),Object(O.jsx)("div",{className:"middle",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),A(!0),w.post("http://localhost:5000/",{userEmail:m,userTopic:a}).then((function(e){200===e.status&&"ok"===e.data.status&&(A(!1),C({modalState:!0,regCode:e.data.code}))})).catch((function(e){console.log(e.response),D("/error")}))},className:"form-position",children:[Object(O.jsx)(d.a.Group,{as:u.a,className:"mb-1 content",controlId:"exampleForm.ControlInput1",children:Object(O.jsx)(b.a,{md:4,sm:6,xs:6,children:Object(O.jsx)(d.a.Control,{type:"email",placeholder:"Write your Email Here",value:m,onChange:function(e){p(e.target.value)},required:!0})})}),Object(O.jsx)(d.a.Group,{as:u.a,className:"mb-1 content",controlId:"exampleForm.ControlInput1",children:Object(O.jsx)(b.a,{md:4,sm:6,xs:6,children:Object(O.jsx)(d.a.Control,{type:"text",placeholder:"Travel,dinner,trip....",value:a,onChange:function(e){n(e.target.value)},required:!0})})}),Object(O.jsx)(j.a,{type:"submit",size:"sm",children:"Register"})," ",Object(O.jsx)("div",{className:"loginBox",children:Object(O.jsxs)("h6",{children:["Already a user?",Object(O.jsx)(i.b,{className:"login-link",to:"/login",children:" Click here"})]})})]})}),Object(O.jsx)("div",{className:"end",children:Object(O.jsx)(h.a,{fluid:!0,children:Object(O.jsxs)(u.a,{children:[Object(O.jsxs)(b.a,{md:4,children:[Object(O.jsx)(y.a,{icon:N.g,className:"icon-size"}),Object(O.jsx)("h3",{className:"feature-title",children:"Secure"}),Object(O.jsx)("p",{className:"feature-details",children:"Our site doesnt save your email. As soon as you register, we forget about your Email."})]}),Object(O.jsxs)(b.a,{md:4,children:[Object(O.jsx)(y.a,{icon:N.d,className:"icon-size"}),Object(O.jsx)("h3",{className:"feature-title",children:"Easy UI"}),Object(O.jsx)("p",{className:"feature-details",children:"The simplest UI among other apps like us."})]}),Object(O.jsxs)(b.a,{md:4,children:[Object(O.jsx)(y.a,{icon:N.e,className:"icon-size"}),Object(O.jsx)("h3",{className:"feature-title",children:"Fast & Reliable"}),Object(O.jsx)("p",{className:"feature-details",children:"It is a single page application with React. Your details are saved automatically."})]})]})})}),Object(O.jsx)("div",{children:Object(O.jsx)(v,{modalState:S.modalState,hide:function(){C({modelState:!1,regCode:""}),D("/billsplit")},regCode:S.regCode})}),I?Object(O.jsx)(x,{}):null]})},C=a(9),k=a(2),q=a(16);var I=function(e){var t=Object(s.useState)({id:0,pname:"",cost:0,owe:[0],history:[],reminders:[]}),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(O.jsx)("div",{children:Object(O.jsx)(d.a,{onSubmit:function(t){return e.added(t,n,c)},children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(d.a.Group,{as:b.a,md:5,sm:4,xs:5,className:"mb-3 addbtn",controlId:"exampleForm.ControlInput1",children:Object(O.jsx)(d.a.Control,{name:"pname",placeholder:"write name",value:n.pname,onChange:function(e){var t=e.target,a=t.name,s=t.value;c((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(C.a)({},a,s))}))},required:!0})}),Object(O.jsx)(b.a,{className:"addbtn",children:Object(O.jsx)(j.a,{type:"submit",children:"Add"})})]})})})},A=a(60),D=a(112);var H=function(e){var t=Object(O.jsxs)(A.a,{id:"popover-basic",children:[Object(O.jsx)(A.a.Header,{as:"h3",children:"Ask your money back"}),Object(O.jsx)(A.a.Body,{className:"popover-scroll",children:e.owe.some((function(e){return 0!==e}))?e.owe.map((function(t,a){return 0===t?null:Object(O.jsxs)("p",{children:[e.profile[a].pname," owe you: ",t," "]})})):Object(O.jsx)("p",{children:"No Owed Money"})})]});return Object(O.jsx)("div",{children:Object(O.jsx)(D.a,{trigger:"click",placement:"left",overlay:t,children:Object(O.jsx)(j.a,{size:"sm",children:"Owe"})})})},E=a(113);var B=function(e){var t=(new Date).toISOString().slice(0,10),a=Object(s.useState)(1),n=Object(l.a)(a,2),c=n[0],r=n[1],i=Object(s.useState)({id:0,cost:"",title:"",date:t}),o=Object(l.a)(i,2),h=o[0],m=o[1],x=Object(s.useState)([]),p=Object(l.a)(x,2),f=p[0],g=p[1],v=Object(s.useState)("equally"),w=Object(l.a)(v,2),S=w[0],I=w[1],A=Object(s.useState)(e.unequal),D=Object(l.a)(A,2),B=D[0],L=D[1];function G(e,t){var a=e.target,s=a.name,n=a.value;m((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(C.a)({id:t},s,n))}))}function R(t){I(t.target.value),L(e.unequal)}function T(e){var t=e.target,a=t.name,s=t.value;console.log(e.target),console.log(a),console.log(s),L((function(e){return Object(k.a)(Object(k.a)({},e),{},Object(C.a)({},a,s))}))}function z(){r(c+1)}function P(){r(c-1)}return Object.keys(e.unequal).length!==Object.keys(B).length&&L(e.unequal),Object(O.jsx)("div",{id:e.id,children:Object(O.jsxs)("form",{onSubmit:function(t){return e.doSum(t,e.id,h,m,e.playerName,f,g,S,I,B,L,r)},children:[1===c?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"userBtn",children:[Object(O.jsx)("h3",{children:e.playerName}),Object(O.jsx)(H,{profile:e.allProfiles,owe:e.actualOwe})]}),Object(O.jsxs)("h4",{children:["Spent: ",e.cost]}),Object(O.jsxs)("h4",{children:["Share: ",e.groupShare]}),Object(O.jsx)(u.a,{className:"content",children:Object(O.jsx)(d.a.Group,{as:b.a,md:6,sm:6,xs:8,className:"mb-3",controlId:"exampleForm.ControlInput1",children:Object(O.jsx)(d.a.Control,{type:"date",name:"date",value:h.date,onChange:function(t){return G(t,e.id)}})})}),Object(O.jsx)(u.a,{className:"content",children:Object(O.jsx)(d.a.Group,{as:b.a,md:6,sm:6,xs:8,className:"mb-3",controlId:"exampleForm.ControlInput2",children:Object(O.jsx)(d.a.Control,{name:"title",value:h.title,placeholder:"write purpose!",onChange:function(t){return G(t,e.id)}})})}),Object(O.jsx)(u.a,{className:"content",children:Object(O.jsx)(d.a.Group,{as:b.a,md:6,sm:6,xs:8,className:"mb-3",controlId:"exampleForm.ControlInput3",children:Object(O.jsx)(d.a.Control,{type:"text",pattern:"[0-9]+",name:"cost",value:h.cost,placeholder:"write price!",onChange:function(t){return G(t,e.id)}})})}),Object(O.jsx)("div",{className:"err-msg",children:"E"===e.msg[0]?Object(O.jsx)("h6",{children:e.msg}):null}),Object(O.jsx)(y.a,{icon:N.b,onClick:z,className:"formpage-icon-right"})]}):null,2===c?Object(O.jsxs)("div",{children:[Object(O.jsx)("h6",{children:"Select the people you want share this amount with?"}),Object(O.jsx)(E.a,{isSearchable:!1,isMulti:!0,name:"members",defaultValue:{value:"everyone",label:"Everyone"},closeMenuOnSelect:!1,hideSelectedOptions:!1,options:[].concat(Object(q.a)(e.profile),[{value:"everyone",label:"Everyone"}]),value:f,onChange:function(t){return function(t){console.log(t),0!==t.length&&"everyone"===t[t.length-1].value?g([].concat(Object(q.a)(e.profile),[{value:"everyone",label:"Everyone"}])):g(t)}(t)}}),Object(O.jsx)(y.a,{icon:N.a,onClick:P,className:"formpage-icon-left"}),Object(O.jsx)(y.a,{icon:N.b,onClick:z,className:"formpage-icon-right"})]}):null,3===c?Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"userBtn",children:[Object(O.jsx)("h6",{children:"How do you want share the amount with selected people?"}),Object(O.jsx)(j.a,{size:"sm",type:"submit",children:"Add"})]}),Object(O.jsxs)(u.a,{className:"content",children:[Object(O.jsx)(d.a.Group,{as:b.a,children:Object(O.jsx)(d.a.Check,{type:"radio",value:"equally",checked:"equally"===S,onChange:R,label:"Equally"})}),Object(O.jsx)(d.a.Group,{as:b.a,children:Object(O.jsx)(d.a.Check,{type:"radio",value:"unequally",checked:"unequally"===S,onChange:R,label:"Unequally"})}),Object(O.jsx)("div",{className:"err-msg",children:"S"===e.msg[0]?Object(O.jsx)("h6",{children:e.msg}):null})]}),Object(O.jsx)("div",{className:"unequal-label",children:"unequally"===S?0===f.length||"everyone"===f[f.length-1].value?e.profile.map((function(e,t){return Object(O.jsxs)(d.a.Group,{as:u.a,className:"mb-3",controlId:"formPlaintextEmail",children:[Object(O.jsx)(d.a.Label,{column:!0,md:"6",sm:"6",xs:"6",children:e.label}),Object(O.jsx)(b.a,{md:6,sm:6,xs:6,children:Object(O.jsx)(d.a.Control,{type:"number",name:e.label,value:B[e.label],placeholder:"individual share!",onChange:T})})]})})):f.map((function(e,t){return Object(O.jsxs)(d.a.Group,{as:u.a,className:"mb-3",controlId:"formPlaintextEmail",children:[Object(O.jsx)(d.a.Label,{column:!0,md:"6",sm:"6",xs:"6",children:e.label}),Object(O.jsx)(b.a,{md:6,sm:6,xs:6,children:Object(O.jsx)(d.a.Control,{type:"number",name:e.label,value:B[e.label],placeholder:"individual share!",onChange:T})})]})})):null}),Object(O.jsx)(y.a,{icon:N.a,onClick:P,className:"formpage-icon-left"})]}):null]})})};var L=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),n=a[0],c=a[1];return Object(O.jsxs)("div",{children:[Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{md:9,sm:9,xs:9,className:"mb-3 d-flex justify-content-center",children:Object(O.jsx)(d.a.Control,{type:"text",value:n,placeholder:"Reminders!",onChange:function(e){c(e.target.value)},required:!0})}),Object(O.jsx)(b.a,{md:3,sm:3,xs:3,className:"d-flex justify-content-center reminder-btn",children:Object(O.jsx)(j.a,{size:"sm",onClick:function(){return e.reminderAdded(n,c,e.playerId)},children:"Add"})})]}),Object(O.jsxs)("div",{children:[e.allReminders.map((function(t,a){return Object(O.jsxs)("div",{className:"history-box",children:[Object(O.jsx)(u.a,{children:Object(O.jsx)(b.a,{md:8,sm:8,xs:8,children:t})}),Object(O.jsx)(y.a,{icon:N.f,onClick:function(){return e.reminderDeleted(a,e.playerId)},className:"delete-icon"})]})})),0===e.allReminders.length?Object(O.jsx)("p",{children:"No reminders for you!"}):null]})]})},G=a(50);G.defaults.withCredentials=!0;var R=function(e){var t=Object(r.f)();return Object(O.jsx)("div",{children:e.player.history.map((function(a,s){return Object(O.jsxs)("div",{className:"history-box",style:!0===a.deletedHistory?{color:"red"}:null,children:[Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:"Date:"}),Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:Object(O.jsx)("p",{children:a.date})})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:"Purpose:"}),Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:Object(O.jsx)("p",{children:a.title})})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{md:6,sm:6,xs:6,children:"Amount:"}),Object(O.jsx)(b.a,{md:6,sm:6,xs:6,children:Object(O.jsx)("p",{children:a.amount})})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:"Shared by:"}),Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:Object(O.jsxs)("p",{style:{whiteSpace:"pre-wrap"},children:["equally"===a.sharedHow?0!==a.sharing.length&&a.sharing.length!==e.profile.length?a.sharing.map((function(t){return e.profile[t].pname+", "})):"Everyone":null,"unequally"===a.sharedHow?0!==a.sharing.length?a.sharing.map((function(t){return e.profile[t].pname+"="+Object.values(a.unequalDivision)[t]+"\n"})):Object.keys(a.unequalDivision).map((function(e,t){return e+"="+Object.values(a.unequalDivision)[t]+"\n"})):null]})})]}),Object(O.jsxs)(u.a,{children:[Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:"Shared How?"}),Object(O.jsx)(b.a,{lg:6,md:6,sm:6,xs:6,children:Object(O.jsx)("p",{children:a.sharedHow})})]}),!1===a.deletedHistory?Object(O.jsx)(y.a,{icon:N.f,onClick:function(){return function(a,s){var n=Object(q.a)(e.profile);if(n[e.player.id].history[a].deletedHistory=!0,n[e.player.id].cost=Number(n[e.player.id].cost)-s.amount,"equally"===s.sharedHow)if(0===s.sharing.length){var c=Number(s.amount)/Object.keys(s.unequalDivision).length;for(a=0;a<Object.keys(s.unequalDivision).length;a++)n[e.player.id].owe[a]-=c}else{var r=Number(s.amount)/s.sharing.length;for(a=0;a<s.sharing.length;a++)n[e.player.id].owe[s.sharing[a]]-=r}else{var i=Object.values(s.unequalDivision);if(0===s.sharing.length)for(a=0;a<i.length;a++)n[e.player.id].owe[a]-=Number(i[a]);else for(a=0;a<s.sharing.length;a++)n[e.player.id].owe[s.sharing[a]]-=Number(i[s.sharing[a]])}var o=new Array(n.length).fill(0),j=[],d=e.calculateActualOweAndShare(j,n,o),u=Object(l.a)(d,2);j=u[0],o=u[1],e.setLoading(!0),G.post("http://localhost:5000/billsplit",{updatedDetails:n}).then((function(a){200===a.status&&("ok"===a.data.status?(console.log("successfully saved"),e.setLoading(!1),e.setactualOwe(j),e.setShare(o),e.setProfile(n)):"go to login"===a.data.status&&t("/login"))})).catch((function(e){t("/error")}))}(s,a)},className:"delete-icon"}):null]})}))})},T=a(50);T.defaults.withCredentials=!0;var z=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),n=a[0],c=a[1],i=Object(r.f)();return Object(O.jsxs)("div",{children:[Object(O.jsx)(j.a,{size:"sm",className:"logoutbtn",onClick:function(){c(!0),T.get("http://localhost:5000/logout").then((function(e){c(!1),i("/login")})).catch((function(e){console.log(e),i("/error")}))},children:"Logout"}),n?Object(O.jsx)(x,{}):null]})},P=a(48);var F=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsxs)(j.a,{className:"topbtns",variant:"primary",onClick:e.handleShow,children:["Profiles(",e.profileNames.length,")"]}),Object(O.jsxs)(P.a,{show:e.show,onHide:e.handleClose,placement:"end",scroll:!0,children:[Object(O.jsx)(P.a.Header,{closeButton:!0,children:Object(O.jsx)(P.a.Title,{children:e.topic})}),Object(O.jsxs)(P.a.Body,{children:[Object(O.jsxs)("h6",{children:["Total Money Spent: ",e.allCost]}),Object(O.jsx)("p",{children:"Select profiles from below which you want to see on the screen."}),0!==e.profileNames.length?Object(O.jsx)(d.a,{children:e.profileNames.map((function(t,a){return Object(O.jsx)(d.a.Check,{checked:e.profileState[a],onChange:function(){return e.changeProfileState(a)},type:"switch",id:a,label:t})}))}):Object(O.jsx)("p",{children:"No user yet added."}),Object(O.jsx)(z,{})]})]})]})},U=a(94),K=a(110),M=a(50),J=a(158);M.defaults.withCredentials=!0;var W=function(){Object(s.useEffect)((function(){d(!0),M.get("http://localhost:5000/billsplit").then((function(e){if("ok"===e.data.status){var t=e.data.result;if(0!==t.length){for(var a=[],s=new Array(t.length).fill(0),c=0;c<t.length;c++)a.push(new Array(t.length).fill(0));var r=te(a,t,s),i=Object(l.a)(r,2);a=i[0],s=i[1],d(!1),X(e.data.topic),f(a),N(s),n(t)}else d(!1),X(e.data.topic)}else"go to login"===e.data.status&&V("/login")})).catch((function(e){V("/error")}))}),[]);var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),i=Object(l.a)(c,2),j=i[0],d=i[1],h=Object(s.useState)([]),m=Object(l.a)(h,2),p=m[0],f=m[1],g=Object(s.useState)([]),v=Object(l.a)(g,2),y=v[0],N=v[1],w=Object(s.useState)([]),S=Object(l.a)(w,2),A=S[0],D=S[1],H=Object(s.useState)(!1),E=Object(l.a)(H,2),G=E[0],T=E[1],z=Object(s.useState)(""),P=Object(l.a)(z,2),W=P[0],Y=P[1],V=Object(r.f)(),$=Object(s.useState)(""),_=Object(l.a)($,2),Q=_[0],X=_[1];function Z(e,t,s,c,r,i,o,j,u,b,h,m){if(e.preventDefault(),""!==J.trim(s.title)&&/^\d+$/.test(J.trim(s.cost))){for(var O=Object(q.a)(a),x=Object(q.a)(i),p=new Array(a.length).fill(0),g=Object.values(b),v=0,y=0;y<O.length;y++)v+=Number(g[y]);if(Number(s.cost)===Number(v)||"equally"===j){if(O[t].id=t,O[t].cost=Number(O[t].cost)+Number(s.cost),"equally"===j)if(0===x.length||"everyone"===x[x.length-1].value){x=[];var w=Number(s.cost)/O.length;for(y=0;y<O.length;y++)O[t].owe[y]+=w}else{(x=i.map((function(e,t){return e.value}))).sort();var S=Number(s.cost)/x.length;for(y=0;y<x.length;y++)O[t].owe[x[y]]+=S}else if(0===x.length||"everyone"===x[x.length-1].value){x=[];for(y=0;y<O.length;y++)O[t].owe[y]+=Number(g[y])}else{(x=i.map((function(e,t){return e.value}))).sort();for(y=0;y<x.length;y++)O[t].owe[x[y]]+=Number(g[x[y]])}var C=[],k=(new Date).toISOString().slice(0,10),I=a.reduce(ee,{}),A=te(C,O,p),D=Object(l.a)(A,2);C=D[0],p=D[1],O[s.id].history.push({title:s.title,amount:s.cost,date:s.date,unequalDivision:b,sharedHow:j,deletedHistory:!1,sharing:x}),d(!0),M.post("http://localhost:5000/billsplit",{updatedDetails:O}).then((function(e){200===e.status&&("ok"===e.data.status?(console.log("successfully saved"),d(!1),h(I),f(C),N(p),c({id:0,cost:"",title:"",date:k}),o([]),u("equally"),m(1),Y(""),n(O)):"go to login"===e.data.status&&V("/login"))})).catch((function(e){V("/error")}))}else m(3),Y("Sum of all individual sum must be equal to mentioned sum")}else m(1),Y("Either purpose or cost field is wrongly filled or empty")}function ee(e,t){return Object.assign(e,Object(C.a)({},t.pname,0))}function te(e,t,a){for(var s=0;s<t.length;s++){e.push(new Array(t.length).fill(0));for(var n=0;n<t.length;n++)a[s]=Number(a[s])+Number(t[n].owe[s])}for(s=0;s<t.length;s++)for(n=0;n<t.length;n++)s!==n&&(t[s].owe[n]>t[n].owe[s]?e[s][n]=Number(t[s].owe[n])-Number(t[n].owe[s]):e[n][s]=Number(t[n].owe[s])-Number(t[s].owe[n]));return[e,a]}function ae(e,t,s){var c=Object(q.a)(a);c[s].reminders.push(e),d(!0),M.post("http://localhost:5000/billsplit",{updatedDetails:c}).then((function(e){200===e.status&&("ok"===e.data.status?(d(!1),console.log("successfully saved"),t(""),n(c)):"go to login"===e.data.status&&V("/login"))})).catch((function(e){V("/error")}))}function se(e,t){var s=Object(q.a)(a);s[t].reminders=s[t].reminders.filter((function(t,a){return a!==e})),d(!0),M.post("http://localhost:5000/billsplit",{updatedDetails:s}).then((function(e){200===e.status&&("ok"===e.data.status?(d(!1),console.log("successfully saved"),n(s)):"go to login"===e.data.status&&V("/login"))})).catch((function(e){V("/error")}))}return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"userBtn",children:[Object(O.jsx)("div",{className:"topbtns",children:Object(O.jsx)(I,{added:function(e,t,s){e.preventDefault();var c=Object(q.a)(a),l=Object(k.a)({},t),r=Object(q.a)(p);if(0===a.length)r=[[0]],c.push(l);else{for(var i=0;i<c.length;i++)r[i].push(0),c[i].owe.push(0),l.owe.push(0);r.push(new Array(a.length+1).fill(0)),c.push(l)}d(!0),M.post("http://localhost:5000/billsplit",{updatedDetails:c}).then((function(e){200===e.status&&("ok"===e.data.status?(d(!1),console.log("successfully saved"),D((function(e){return[].concat(Object(q.a)(e),[!1])})),s({id:0,pname:"",cost:0,owe:[0],history:[],reminders:[]}),f(r),n(c)):"go to login"===e.data.status&&V("/login"))})).catch((function(e){console.log(e.response),V("/error")}))}})}),Object(O.jsx)("div",{children:Object(O.jsx)(F,{show:G,handleClose:function(){return T(!1)},handleShow:function(){return T(!0)},changeProfileState:function(e){var t=Object(q.a)(A);t[e]=!t[e],D(t)},profileState:A,profileNames:a.map((function(e){return e.pname})),topic:Q,allCost:a.reduce((function(e,t){return 0===e?Number(e)+Number(t.cost):Number(e.cost)+Number(t.cost)}),0)})})]}),Object(O.jsx)(u.a,{children:a.map((function(e,t){return!0===A[t]?Object(O.jsx)(b.a,{lg:4,md:6,sm:6,xs:12,children:Object(O.jsx)(o.a,{className:"profilecard",children:Object(O.jsx)(o.a.Body,{className:"noPadding",children:Object(O.jsxs)(K.a,{sticky:"top",defaultActiveKey:"Split",id:"uncontrolled-tab-example",className:"mb-3",children:[Object(O.jsx)(U.a,{eventKey:"Split",title:"Split",children:Object(O.jsx)(B,{doSum:Z,id:t,unequal:a.reduce(ee,{}),groupShare:y[t],playerName:e.pname,cost:e.cost,profile:a.map((function(e,t){return{value:t,label:e.pname}})),allProfiles:a,actualOwe:p[t],msg:W},t)}),Object(O.jsx)(U.a,{eventKey:"transactions",title:"Transactions",children:0!==e.history.length?Object(O.jsx)(R,{profile:a,setLoading:d,player:e,setProfile:n,setShare:N,setactualOwe:f,calculateActualOweAndShare:te}):Object(O.jsx)("p",{children:"No Transaction made till now"})}),Object(O.jsx)(U.a,{eventKey:"Reminders",title:"Reminders",children:Object(O.jsx)(L,{reminderAdded:ae,reminderDeleted:se,allReminders:e.reminders,playerId:t})})]})})})}):null}))}),j?Object(O.jsx)(x,{}):null]})},Y=a(170),V=a(114);a(50).defaults.withCredentials=!0;var $=function(e){return Object(O.jsx)(Y.a,{collapseOnSelect:!0,sticky:"top",className:"custom_navbar",expand:"lg",children:Object(O.jsxs)(h.a,{children:[Object(O.jsx)(Y.a.Brand,{children:"Bill Split"}),Object(O.jsx)(Y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(O.jsx)(Y.a.Collapse,{id:"responsive-navbar-nav",children:Object(O.jsxs)(V.a,{children:[Object(O.jsx)(V.a.Link,{className:"navLink",as:i.b,to:"/",children:"Register"}),Object(O.jsx)(V.a.Link,{className:"navLink",as:i.b,to:"/login",children:"Login"}),Object(O.jsx)(V.a.Link,{className:"navLink",as:i.b,to:"/billsplit",children:"User"})]})})]})})};var _=function(){return Object(O.jsxs)("div",{className:"error-page",children:[Object(O.jsx)(u.a,{className:"content",children:Object(O.jsx)(b.a,{lg:4,md:4,sm:12,xs:12,className:"d-flex justify-content-center",children:Object(O.jsx)(y.a,{icon:N.c,className:"error-icon"})})}),Object(O.jsx)(u.a,{className:"content",children:Object(O.jsx)(b.a,{lg:8,md:8,sm:12,xs:12,children:Object(O.jsxs)("div",{className:"error-text",children:[Object(O.jsx)("h1",{className:"centered error-msg-size",children:"Something went wrong"}),Object(O.jsx)("h1",{className:"centered error-msg-size",children:"Try Again"})]})})})]})};a(162);var Q=function(){return Object(O.jsx)(i.a,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)($,{}),Object(O.jsxs)(r.c,{children:[Object(O.jsx)(r.a,{path:"/",element:Object(O.jsx)(S,{})}),Object(O.jsx)(r.a,{path:"/login",element:Object(O.jsx)(f,{})}),Object(O.jsx)(r.a,{path:"/billsplit",element:Object(O.jsx)(W,{})}),Object(O.jsx)(r.a,{path:"/error",element:Object(O.jsx)(_,{})}),Object(O.jsx)(r.a,{path:"*",element:Object(O.jsx)(S,{})})]})]})})};c.a.render(Object(O.jsx)(Q,{}),document.getElementById("root"))},61:function(e,t,a){}},[[163,1,2]]]);
//# sourceMappingURL=main.a37de68a.chunk.js.map